---
layout: post
title:  "mac windows as 和 idea 加载gradle 本地配置"
date:   2017.11.07 13:47
categories: gradle
tag: gradle本地替换升级
---

* content
{:toc}


__本文是为了解决gradle升级下载慢，导致浪费不必要的等待时间！__

## 第一步
window-->对应的gradle配置的目录路径为 administration目录下的.gradle目录
mac     -->对应的gradle配置的目录路径 /用户/电脑名/.gradle，例如：~/.gradle（本文以mac配置为主）

![小提醒:此处对应gradle配置的具体路径](http://upload-images.jianshu.io/upload_images/6370809-a11d14e82043afe5.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

## 第二步
mac-->由于.gradle目录在mac上是默认隐藏的，这时候就需要在Finder上使用快捷键 command + shift + g 接入上图中标注的具体目录

![command + shift + g](http://upload-images.jianshu.io/upload_images/6370809-a5a7d0ee2183ed2c.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)


![利用快捷键进入gradle对应配置目录](http://upload-images.jianshu.io/upload_images/6370809-46b256191783b233.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)


## 第三步
mac--> 此目录下的/wrapper/dists目录即为as or idea 下载的gradle存放的目录，

![image.png](http://upload-images.jianshu.io/upload_images/6370809-0accfcd34e5bfaf2.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

## 第四步
在gradle 无法下载对应的gradle版本的时候， 内部的压缩文件都是未下载完全的，这时候需要到对应的gradle版本目录下，将完整的对应的gradle版本的压缩文件copy到此目录下，替换未下载完全的。

![未下载完全的gradle 版本下的文件](http://upload-images.jianshu.io/upload_images/6370809-d52336d55ff0387b.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

## 第五步
在gradle官网[https://gradle.org/releases/] 使用迅雷下载 as or idea 下载不下来的对应的gradle版本压缩文件。

## 第六步
将下载下来的压缩文件替换当前对应版本下的未下载完全的压缩包，然后打开编译器，这时候就会直接解压你下载的压缩包了

    小坑：此处有坑，需知，必须确保你下载的压缩包版本一致，其次是替换之前未
    下载完全的gradle压缩包，别先自作主张删了这个压缩包，因为你下载的压缩包文
    件可能会命名与as 和 idea读取压缩包的名称不同，此处bug水很深，可以让你怀
    疑人生！

## 第七步
gradle 指令的环境变量需要手动配置，window系统和配置java环境变量是一样的道理，mac 配置如下所示：

* 1. sudo vim ~/.bash_profile 
* 2. vim 指令快捷键--> i == insert  ， esc ==  exit , :wq == 保存并退出vim编辑器
* 3. vim 编辑器下， i 键进入insert 文本操作，文本内容如下：
      
![gradle mac 环境变量配置 & 此处配置了adb环境，请注意区分](http://upload-images.jianshu.io/upload_images/6370809-e8e9b04415381030.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)
* 4. 保存退出vim编辑器
* 5. source ~/.bash_profile -->确保该指令在终端未报错，无任何异常输出，表示基本pash语法配置正确
* 6. gradle -version -->运行gradle指令查看版本，确定环境路径配置完整。

__若觉得配置gradle指令环境比较麻烦，在idea or as 构建的project 目录下都有默认的.gradle 目录，可以使用 ./gradlew 指令代替gradle指令，非全局，终端不可运行__
![project下默认的./gradlew](http://upload-images.jianshu.io/upload_images/6370809-01d690aebbe1327b.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

    此处有坑-->请注意：./gradlew +指令 ，可能会报权限错误，这时候需要运行
    chmod +x gradlew -->允许运行gradlew指令。








